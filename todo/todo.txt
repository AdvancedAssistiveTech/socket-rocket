[TODO]

fix gui not updating due to illegalstate exception